{% extends 'base.html' %}
{% block title %}Chat with AI Stylist{% endblock %}
{% block content %}
<h3 class="text-center mb-4">Chat with AI Stylist</h3>
<div class="card">
  <div class="card-body" id="chatBox" style="height:300px; overflow-y:auto; background:#f4f4f4;"></div>
</div>
<form id="chatForm" class="mt-3 d-flex">
  <input type="text" id="userInput" class="form-control me-2" placeholder="Ask your stylist..." autocomplete="off" required>
  <button type="submit" class="btn btn-primary">Send</button>
</form>
{% endblock %}
{% block scripts %}
<script>
$(function() {
  $('#chatForm').on('submit', function(e) {
    e.preventDefault();
    var msg = $('#userInput').val();
    if (!msg) return;
    $('#chatBox').append('<div><b>You:</b> ' + msg + '</div>');
    $('#userInput').val('');
    $.post('/chat', {message: msg}, function(res) {
      $('#chatBox').append('<div><b>AI Stylist:</b> ' + res.reply + '</div>');
      $('#chatBox').scrollTop($('#chatBox')[0].scrollHeight);
    });
  });
});
</script>
{% endblock %}
